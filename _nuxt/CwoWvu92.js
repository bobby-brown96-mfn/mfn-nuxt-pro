import{d as L,b as o,N as T,w,g as y,H as Q,ad as ke,l as ee,R as te,S as j,V as ae,W as F,aK as be,K as Se,G as d,ag as pe,Z as O,c as g,e as S,$ as Ce,bt as we,P as E,n as u,O as R,j as J,t as N,f as V,Q as Ae,a2 as de,F as _,M as Y,a3 as $e,U as le,bu as Ie,bv as Be,X as ce,aN as P,bs as Ue,B as ge,bw as ze,aG as Ve,aJ as Oe,aR as je,r as K,a8 as M,aT as Me,aU as Ne,ab as qe,aS as De,bx as Re,ac as Te,bq as Ee,o as Fe,by as Ge,bz as Pe}from"./DgP3qxNX.js";import{_ as _e}from"./BlwXy0kE.js";import{_ as ve}from"./CphHl4ql.js";import{_ as Le}from"./wjv5O4hV.js";import{_ as We}from"./BO4ETY0T.js";import"./BTLo-WS6.js";import"./DHuAlWP7.js";import"./C_lRDTqq.js";const Ye={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},Je={wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}},He={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},Ke=L({__name:"Bool",props:{val:{type:Boolean,required:!0}},setup(e){return(t,m)=>{const a=Q,A=ke;return e.val?(o(),T(A,{key:0,color:"green",ui:{rounded:"rounded-full"}},{default:w(()=>[y(a,{name:"i-heroicons-check-20-solid"})]),_:1})):(o(),T(A,{key:1,color:"red",ui:{rounded:"rounded-full"}},{default:w(()=>[y(a,{name:"i-heroicons-x-circle"})]),_:1}))}}}),me=te(j.ui.strategy,j.ui.checkbox,He),Qe=L({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>me.default.color,validator(e){return j.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:m,attrs:a}=ae("checkbox",F(e,"ui"),me,F(e,"class")),{emitFormChange:A,color:h,name:n,inputId:i}=be(e),$=i.value??Se("$zJrw6Ma8Ol"),r=d({get(){return e.modelValue},set(b){t("update:modelValue",b)}}),l=b=>{t("change",b.target.value),A()},f=d(()=>pe(O(m.value.base,m.value.form,m.value.rounded,m.value.background,m.value.border,h.value&&m.value.ring.replaceAll("{color}",h.value),h.value&&m.value.color.replaceAll("{color}",h.value)),e.inputClass));return{ui:m,attrs:a,toggle:r,inputId:$,name:n,inputClass:f,onChange:l}}}),Xe=["data-n-ids"],Ze=["id","name","required","value","disabled","indeterminate"],xe=["for"];function et(e,t,m,a,A,h){return o(),g("div",{class:u(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[S("div",{class:u(e.ui.container)},[Ce(S("input",E({id:e.inputId,"onUpdate:modelValue":t[0]||(t[0]=n=>e.toggle=n),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:t[1]||(t[1]=(...n)=>e.onChange&&e.onChange(...n))}),null,16,Ze),[[we,e.toggle]])],2),e.label||e.$slots.label?(o(),g("div",{key:0,class:u(e.ui.inner)},[S("label",{for:e.inputId,class:u(e.ui.label)},[R(e.$slots,"label",{},()=>[J(N(e.label),1)]),e.required?(o(),g("span",{key:0,class:u(e.ui.required)},"*",2)):V("",!0)],10,xe),e.help?(o(),g("p",{key:0,class:u(e.ui.help)},N(e.help),3)):V("",!0)],2)):V("",!0)],10,Xe)}const ye=ee(Qe,[["render",et]]),W=te(j.ui.strategy,j.ui.progress,Je),tt=L({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>W.default.animation,validator(e){return Object.keys(W.animation).includes(e)}},size:{type:String,default:()=>W.default.size,validator(e){return Object.keys(W.progress.size).includes(e)}},color:{type:String,default:()=>W.default.color,validator(e){return j.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:m}=ae("progress",F(e,"ui"),W,F(e,"class")),a=d(()=>O(t.value.indicator.container.base,t.value.indicator.container.width,t.value.indicator.container.transition)),A=d(()=>O(t.value.indicator.align,t.value.indicator.width,t.value.indicator.color,t.value.indicator.size[e.size])),h=d(()=>{var B;const p=[t.value.progress.base,t.value.progress.width,t.value.progress.size[e.size],t.value.progress.rounded,t.value.progress.track,t.value.progress.bar,(B=t.value.progress.color)==null?void 0:B.replaceAll("{color}",e.color),t.value.progress.background,t.value.progress.indeterminate.base,t.value.progress.indeterminate.rounded];return c.value&&p.push(t.value.animation[e.animation]),O(...p)}),n=d(()=>{var p;return O(t.value.steps.base,(p=t.value.steps.color)==null?void 0:p.replaceAll("{color}",e.color),t.value.steps.size[e.size])}),i=d(()=>O(t.value.step.base,t.value.step.align)),$=d(()=>O(t.value.step.active)),r=d(()=>O(t.value.step.first));function l(p){return p===Number(e.value)}function f(p){return p===0}function b(p){p=Number(p);const B=[i.value];return f(p)&&B.push(r.value),l(p)&&B.push($.value),B.join(" ")}const c=d(()=>e.value===void 0||e.value===null),I=d(()=>Array.isArray(e.max)),C=d(()=>c.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),U=d(()=>{if(!c.value)switch(!0){case e.value<0:return 0;case e.value>C.value:return 100;default:return e.value/C.value*100}});return{ui:t,attrs:m,indicatorContainerClass:a,indicatorClass:A,progressClass:h,stepsClass:n,stepClasses:b,isIndeterminate:c,isSteps:I,realMax:C,percent:U}}});function at(e,t,m,a,A,h){return o(),g("div",E({class:e.ui.wrapper},e.attrs),[e.indicator||e.$slots.indicator?R(e.$slots,"indicator",de(E({key:0},{percent:e.percent})),()=>[e.isSteps?V("",!0):(o(),g("div",{key:0,class:u(e.indicatorContainerClass),style:Ae({width:`${e.percent}%`})},[S("div",{class:u(e.indicatorClass)},N(Math.round(e.percent))+"% ",3)],6))],!0):V("",!0),S("progress",E({class:e.progressClass},{value:e.value,max:e.realMax}),N(e.percent!==void 0?`${Math.round(e.percent)}%`:void 0),17),e.isSteps?(o(),g("div",{key:1,class:u(e.stepsClass)},[(o(!0),g(_,null,Y(e.max,(n,i)=>(o(),g("div",{key:i,class:u(e.stepClasses(i))},[R(e.$slots,`step-${i}`,de($e({step:n})),()=>[J(N(n),1)],!0)],2))),128))],2)):V("",!0)],16)}const he=ee(tt,[["render",at],["__scopeId","data-v-73414c84"]]),G=te(j.ui.strategy,j.ui.table,Ye);function lt(e,t){return e===t}function fe(e,t,m){return e===t?0:m==="asc"?e<t?-1:1:e>t?-1:1}const nt=L({components:{UIcon:Q,UButton:le,UProgress:he,UCheckbox:ye},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>lt},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>G.default.sortButton},sortAscIcon:{type:String,default:()=>G.default.sortAscIcon},sortDescIcon:{type:String,default:()=>G.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>G.default.loadingState},emptyState:{type:Object,default:()=>G.default.emptyState},progress:{type:Object,default:()=>G.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","update:sort"],setup(e,{emit:t,attrs:m}){const{ui:a,attrs:A}=ae("table",F(e,"ui"),G,F(e,"class")),h=d(()=>e.columns??Object.keys(e.rows[0]??{}).map(s=>({key:s,label:Ie(s),sortable:!1,class:void 0,sort:fe}))),n=Be(e,"sort",t,{passive:!0,defaultValue:ce({},e.sort,{column:null,direction:"asc"})}),i={column:n.value.column,direction:null},$=d(()=>{var z;if(!((z=n.value)!=null&&z.column)||e.sortMode==="manual")return e.rows;const{column:s,direction:k}=n.value;return e.rows.slice().sort((X,ne)=>{var Z;const oe=P(X,s),re=P(ne,s);return(((Z=h.value.find(se=>se.key===s))==null?void 0:Z.sort)??fe)(oe,re,k)})}),r=d({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),l=d(()=>r.value&&r.value.length>0&&r.value.length<e.rows.length),f=d(()=>e.emptyState===null?null:{...a.value.default.emptyState,...e.emptyState}),b=d(()=>e.loadingState===null?null:{...a.value.default.loadingState,...e.loadingState});function c(s,k){if(typeof e.by=="string"){const z=e.by;return(s==null?void 0:s[z])===(k==null?void 0:k[z])}return e.by(s,k)}function I(s){return e.modelValue?r.value.some(k=>c(ge(k),ge(s))):!1}function C(s){if(n.value.column===s.key){const k=!s.direction||s.direction==="asc"?"desc":"asc";n.value.direction===k?n.value=ce({},i,{column:null,direction:"asc"}):n.value={column:n.value.column,direction:n.value.direction==="asc"?"desc":"asc"}}else n.value={column:s.key,direction:s.direction||"asc"}}function U(s){m.onSelect&&m.onSelect(s)}function p(){e.rows.forEach(s=>{I(s)||r.value.push(s)})}function B(s){s.target.checked?p():r.value=[]}function q(s,k,z=""){return P(s,k,z)}return{ui:a,attrs:A,sort:n,columns:h,rows:$,selected:r,indeterminate:l,emptyState:f,loadingState:b,isSelected:I,onSort:C,onSelect:U,onChange:B,getRowData:q}}}),ot={key:1},rt={key:0},st={key:0},it=["colspan"],ut={key:1},dt=["colspan"],ct=["onClick"];function gt(e,t,m,a,A,h){const n=ye,i=le,$=he,r=Q;return o(),g("div",E({class:e.ui.wrapper},e.attrs),[S("table",{class:u([e.ui.base,e.ui.divide])},[S("thead",{class:u(e.ui.thead)},[S("tr",{class:u(e.ui.tr.base)},[e.modelValue?(o(),g("th",{key:0,scope:"col",class:u(e.ui.checkbox.padding)},[y(n,{"model-value":e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,"aria-label":"Select all",onChange:e.onChange},null,8,["model-value","indeterminate","onChange"])],2)):V("",!0),(o(!0),g(_,null,Y(e.columns,(l,f)=>(o(),g("th",{key:f,scope:"col",class:u([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,l.class])},[R(e.$slots,`${l.key}-header`,{column:l,sort:e.sort,onSort:e.onSort},()=>[l.sortable?(o(),T(i,E({key:0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==l.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:l[e.columnAttribute],onClick:b=>e.onSort(l)}),null,16,["icon","label","onClick"])):(o(),g("span",ot,N(l[e.columnAttribute]),1))])],2))),128))],2),e.loading&&e.progress?(o(),g("tr",rt,[S("td",{colspan:0,class:u(e.ui.progress.wrapper)},[y($,E({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):V("",!0)],2),S("tbody",{class:u(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?(o(),g("tr",st,[S("td",{colspan:e.columns.length+(e.modelValue?1:0)},[R(e.$slots,"loading-state",{},()=>[S("div",{class:u(e.ui.loadingState.wrapper)},[e.loadingState.icon?(o(),T(r,{key:0,name:e.loadingState.icon,class:u(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):V("",!0),S("p",{class:u(e.ui.loadingState.label)},N(e.loadingState.label),3)],2)])],8,it)])):e.emptyState&&!e.rows.length?(o(),g("tr",ut,[S("td",{colspan:e.columns.length+(e.modelValue?1:0)},[R(e.$slots,"empty-state",{},()=>[S("div",{class:u(e.ui.emptyState.wrapper)},[e.emptyState.icon?(o(),T(r,{key:0,name:e.emptyState.icon,class:u(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):V("",!0),S("p",{class:u(e.ui.emptyState.label)},N(e.emptyState.label),3)],2)])],8,dt)])):(o(!0),g(_,{key:2},Y(e.rows,(l,f)=>(o(),g("tr",{key:f,class:u([e.ui.tr.base,e.isSelected(l)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active,l==null?void 0:l.class]),onClick:()=>e.onSelect(l)},[e.modelValue?(o(),g("td",{key:0,class:u(e.ui.checkbox.padding)},[y(n,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=b=>e.selected=b),value:l,"aria-label":"Select row",onClick:t[1]||(t[1]=Ue(()=>{},["stop"]))},null,8,["modelValue","value"])],2)):V("",!0),(o(!0),g(_,null,Y(e.columns,(b,c)=>{var I;return o(),g("td",{key:c,class:u([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,(I=l[b.key])==null?void 0:I.class])},[R(e.$slots,`${b.key}-data`,{column:b,row:l,index:f,getRowData:C=>e.getRowData(l,b.key,C)},()=>[J(N(e.getRowData(l,b.key)),1)])],2)}),128))],10,ct))),128))],2)],2)],16)}const mt=ee(nt,[["render",gt]]);function ft(e){if(!e)return{};for(const t in e)if(typeof e[t]!="string")return{__variables:JSON.stringify(e)};return e}function bt(...e){const[t,m,a={}]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].name,e[0].variables,e[0].fetchOptions];return ze("query",t,"get",{params:ft(m),...a})}const D=te(j.ui.strategy,j.ui.select,Ve),pt=L({components:{UIcon:Q},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>D.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>D.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(D.size).includes(e)}},color:{type:String,default:()=>D.default.color,validator(e){return[...j.ui.colors,...Object.keys(D.color)].includes(e)}},variant:{type:String,default:()=>D.default.variant,validator(e){return[...Object.keys(D.variant),...Object.values(D.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:m}){const{ui:a,attrs:A}=ae("select",F(e,"ui"),D,F(e,"class")),{size:h,rounded:n}=Oe({ui:a,props:e}),{emitFormChange:i,inputId:$,color:r,size:l,name:f}=be(e,D),b=d(()=>h.value||l.value),c=v=>{t("update:modelValue",v.target.value)},I=v=>{t("change",v.target.value),i()},C=v=>P(v,e.valueAttribute,P(v,e.optionAttribute)),U=v=>P(v,e.optionAttribute,P(v,e.valueAttribute)),p=v=>["string","number","boolean"].includes(typeof v)?{[e.valueAttribute]:v,[e.optionAttribute]:v}:{...v,[e.valueAttribute]:C(v),[e.optionAttribute]:U(v)},B=d(()=>e.options.map(v=>p(v))),q=d(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...B.value]:B.value),s=d(()=>{const v=p(e.modelValue),H=q.value.find(x=>x[e.valueAttribute]===v[e.valueAttribute]);return H?H[e.valueAttribute]:""}),k=d(()=>{var H,x;const v=((x=(H=a.value.color)==null?void 0:H[r.value])==null?void 0:x[e.variant])||a.value.variant[e.variant];return pe(O(a.value.base,a.value.form,n.value,a.value.size[b.value],e.padded?a.value.padding[b.value]:"p-0",v==null?void 0:v.replaceAll("{color}",r.value),(z.value||m.leading)&&a.value.leading.padding[b.value],(X.value||m.trailing)&&a.value.trailing.padding[b.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),z=d(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),X=d(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ne=d(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),oe=d(()=>e.loading&&!z.value?e.loadingIcon:e.trailingIcon||e.icon),re=d(()=>O(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[b.value])),ue=d(()=>O(a.value.icon.base,r.value&&j.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[b.value],e.loading&&a.value.icon.loading)),Z=d(()=>O(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[b.value])),se=d(()=>O(a.value.icon.base,r.value&&j.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[b.value],e.loading&&!z.value&&a.value.icon.loading));return{ui:a,attrs:A,name:f,inputId:$,normalizedOptionsWithPlaceholder:q,normalizedValue:s,isLeading:z,isTrailing:X,selectClass:k,leadingIconName:ne,leadingIconClass:ue,leadingWrapperIconClass:re,trailingIconName:oe,trailingIconClass:se,trailingWrapperIconClass:Z,onInput:c,onChange:I}}}),vt=["id","name","value","required","disabled"],yt=["value","label"],ht=["value","selected","disabled","textContent"],kt=["value","selected","disabled","textContent"];function St(e,t,m,a,A,h){const n=Q;return o(),g("div",{class:u(e.ui.wrapper)},[S("select",E({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...i)=>e.onInput&&e.onInput(...i)),onChange:t[1]||(t[1]=(...i)=>e.onChange&&e.onChange(...i))}),[(o(!0),g(_,null,Y(e.normalizedOptionsWithPlaceholder,(i,$)=>(o(),g(_,null,[i.children?(o(),g("optgroup",{key:`${i[e.valueAttribute]}-optgroup-${$}`,value:i[e.valueAttribute],label:i[e.optionAttribute]},[(o(!0),g(_,null,Y(i.children,(r,l)=>(o(),g("option",{key:`${r[e.valueAttribute]}-${$}-${l}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:N(r[e.optionAttribute])},null,8,ht))),128))],8,yt)):(o(),g("option",{key:`${i[e.valueAttribute]}-${$}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:N(i[e.optionAttribute])},null,8,kt))],64))),256))],16,vt),e.isLeading&&e.leadingIconName||e.$slots.leading?(o(),g("span",{key:0,class:u(e.leadingWrapperIconClass)},[R(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[y(n,{name:e.leadingIconName,class:u(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):V("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(o(),g("span",{key:1,class:u(e.trailingWrapperIconClass)},[R(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[y(n,{name:e.trailingIconName,class:u(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):V("",!0)],2)}const Ct=ee(pt,[["render",St],["__scopeId","data-v-32c9d3f1"]]),wt=S("h1",{class:"h-8"},"Create New Book",-1),At={class:"flex justify-end gap-3"},$t=L({__name:"Book",props:{baseUserId:{default:""},id:{default:""},defaultCurrencyCode:{default:"USD"}},emits:["success","submitted","cancel"],setup(e,{emit:t}){const m=["USD","EUR","GBP","MXN"],a=e,A=t,h=je({name:"",primaryCurrencyCode:a.defaultCurrencyCode}),n=K(!1),i=l=>{const f=[];return(!l.name||l.name==="")&&f.push({path:"name",message:"Required"}),l.primaryCurrencyCode||f.push({path:"primaryCurrencyCode",message:"Required"}),m.includes(l.primaryCurrencyCode)||f.push({path:"primaryCurrencyCode",message:"Must select valid currency"}),f},$=async l=>{n.value=!0,console.log(l.data),await new Promise(f=>setTimeout(f,3e3)),n.value=!1},r=()=>{A("cancel")};return(l,f)=>{const b=Me,c=Ne,I=Ct,C=le,U=Le,p=ve,B=We;return o(),T(B,null,{default:w(()=>[y(p,null,{header:w(()=>[wt]),default:w(()=>[y(U,{validate:i,state:M(h),class:"space-y-4",onSubmit:$},{default:w(()=>[y(c,{label:"Name",name:"name"},{default:w(()=>[y(b,{modelValue:M(h).name,"onUpdate:modelValue":f[0]||(f[0]=q=>M(h).name=q),disabled:M(n)},null,8,["modelValue","disabled"])]),_:1}),y(c,{label:"Primary Currency",name:"primaryCurrencyCode"},{default:w(()=>[y(I,{modelValue:M(h).primaryCurrencyCode,"onUpdate:modelValue":f[1]||(f[1]=q=>M(h).primaryCurrencyCode=q),options:m,disabled:M(n)},null,8,["modelValue","disabled"])]),_:1}),S("div",At,[y(C,{type:"submit",loading:M(n)},{default:w(()=>[J(" Submit ")]),_:1},8,["loading"]),y(C,{color:"red",disabled:M(n),onClick:r},{default:w(()=>[J(" Cancel ")]),_:1},8,["disabled"])])]),_:1},8,["state"])]),_:1})]),_:1})}}});var ie=(e=>(e.ADMIN="ADMIN",e.READ_ONLY="READ_ONLY",e.SYSTEM="SYSTEM",e.USER="USER",e))(ie||{});const It={class:"flex justify-content-between flex-column sm:flex-row"},Bt=S("h1",{class:"font-semibold text-xl text-gray-900 dark:text-white leading-tight"}," Manage Books ",-1),Dt=L({__name:"home",setup(e){qe({title:"Books Home"});const t=De(),m=Re(),a=Te();K(),K();const A=[{key:"actions",sortable:!1},{key:"bookNumber",label:"#",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"isSeeded",label:"Seeded",sortable:!0},{key:"isActive",label:"Active",sortable:!0},{key:"system",label:"System",sortable:!0},{key:"primaryCurrencyCode",label:"Currency",sortable:!0},{key:"envType",label:"Type",sortable:!0},{key:"id",label:"ID",sortable:!1}],h=async c=>{a.setActiveBook(c).then(async()=>await f())},n=async()=>{a.clearActiveBook().then(async()=>await f())},i=async c=>{a.activeUserId&&a.activeUserRole?(await Pe("createBookUser",{input:{bookId:c,userId:a.activeUserId,bookRole:a.activeUserRole}}),await f()):t.add({title:"Missing Active User or Role",timeout:3e3,color:"red"})},$=c=>{var C;const I=((C=c.connectedBookUsers)==null?void 0:C.map(U=>U.userId))??[];if(I.push(c.systemUserId),I.includes(a.activeUserId??"")){const U=[[{label:"Edit",icon:"i-heroicons-pencil-square-20-solid",disabled:c.system,click:()=>console.log("Edit",c.id)},{label:"Duplicate",icon:"i-heroicons-document-duplicate-20-solid"}],[{label:"Delete",icon:"i-heroicons-trash-20-solid",disabled:c.system,click:()=>console.log("Delete",c.id)}]];return c.isActive&&c.isSeeded&&!a.activeBookId?[[{label:"Set as Active",icon:"i-heroicons-arrow-right-circle-16-solid",click:async()=>await h(c.id)}],...U]:U}else return[[{label:"Add Me to Book",icon:"i-heroicons-plus-circle-16-solid",click:async()=>await i(c.id),disabled:a.activeUserRole!==ie.ADMIN&&a.activeUserRole!==ie.SYSTEM}]]},r=K(!1),l=K([]),f=async()=>{r.value=!0;const{data:c}=await bt("homeBooksList",{where:{isActive:{equals:!0}}});l.value=c.books,r.value=!1},b=()=>{m.open($t,{baseUserId:a.activeUserId??""})};return Ee(()=>{r.value=!0}),Fe(async()=>{f()}),(c,I)=>{const C=le,U=_e,p=Ke,B=mt,q=Ge,s=ve;return o(),T(s,{class:"max-w-screen-lg w-full bg-white/75 dark:bg-white/5 backdrop-blur"},{header:w(()=>[S("div",It,[Bt,y(C,{label:"New Book",class:"items-right",onClick:b})])]),footer:w(()=>[M(a).activeBookId?(o(),T(q,{key:0,size:"md",orientation:"horizontal",class:"flex items-center justify-center"},{default:w(()=>[y(C,{onClick:I[0]||(I[0]=k=>n())},{default:w(()=>[J("Clear Active Book")]),_:1}),y(C,{label:"Go to Active Book",to:"/app",color:"black"})]),_:1})):V("",!0)]),default:w(()=>[y(B,{class:"min-h-72",rows:M(l),loading:M(r),columns:A,ui:{default:{checkbox:{color:"gray"}}},"loading-state":{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},progress:{color:"primary",animation:"carousel"}},{"actions-data":w(({row:k})=>[y(U,{items:$(k),popper:{strategy:"absolute"}},{default:w(({open:z})=>[y(C,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid",class:u([[z&&"bg-gray-50 dark:bg-gray-800"],"w-full"])},null,8,["class"])]),_:2},1032,["items"])]),"isSeeded-data":w(({row:k})=>[y(p,{val:k.isSeeded},null,8,["val"])]),"isActive-data":w(({row:k})=>[y(p,{val:k.isActive},null,8,["val"])]),"system-data":w(({row:k})=>[y(p,{val:k.system},null,8,["val"])]),_:1},8,["rows","loading","loading-state"])]),_:1})}}});export{Dt as default};

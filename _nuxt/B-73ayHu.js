import{r as Q,D as ge,E as z,G as O,l as Re,d as Ie,H as fe,I as Pe,J as Be,K as Ne,L as ae,b as I,c as N,n as w,t as D,f as F,e as G,F as me,M as ue,N as j,w as te,O as ee,P as he,Q as tt,j as nt,R as st,S as Ae,U as je,V as Te,W as ye,o as $e,X as Fe,Y as rt,Z as it,$ as ot,g as Ve,a0 as at,a1 as lt,a2 as ct,a3 as ut,y as ht,u as dt,a4 as ft,a5 as pt,a6 as gt,a7 as mt,a8 as H,a9 as yt,aa as bt}from"./DgP3qxNX.js";import{a as vt,Z as kt,o as St,l as xt}from"./CnMB799R.js";import{_ as Ue}from"./BTLo-WS6.js";import{_ as Mt}from"./BO4ETY0T.js";import{u as It}from"./OJkHrvbi.js";import{d as wt}from"./CgUChgj-.js";import"./CvqyO9jn.js";import"./C_lRDTqq.js";const At={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}};function K(e){return Array.isArray?Array.isArray(e):We(e)==="[object Array]"}const $t=1/0;function Et(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-$t?"-0":t}function Ct(e){return e==null?"":Et(e)}function V(e){return typeof e=="string"}function He(e){return typeof e=="number"}function _t(e){return e===!0||e===!1||Lt(e)&&We(e)=="[object Boolean]"}function Ke(e){return typeof e=="object"}function Lt(e){return Ke(e)&&e!==null}function R(e){return e!=null}function pe(e){return!e.trim().length}function We(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ot="Incorrect 'index' type",Rt=e=>`Invalid value for key ${e}`,Pt=e=>`Pattern length exceeds max of ${e}.`,Bt=e=>`Missing ${e} property in key`,Nt=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ee=Object.prototype.hasOwnProperty;class jt{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=ze(s);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ze(e){let t=null,n=null,s=null,i=1,r=null;if(V(e)||K(e))s=e,t=Ce(e),n=be(e);else{if(!Ee.call(e,"name"))throw new Error(Bt("name"));const o=e.name;if(s=o,Ee.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Nt(o));t=Ce(o),n=be(o),r=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:r}}function Ce(e){return K(e)?e:e.split(".")}function be(e){return K(e)?e.join("."):e}function Tt(e,t){let n=[],s=!1;const i=(r,o,a)=>{if(R(r))if(!o[a])n.push(r);else{let c=o[a];const u=r[c];if(!R(u))return;if(a===o.length-1&&(V(u)||He(u)||_t(u)))n.push(Ct(u));else if(K(u)){s=!0;for(let l=0,p=u.length;l<p;l+=1)i(u[l],o,a+1)}else o.length&&i(u,o,a+1)}};return i(e,V(t)?t.split("."):t,0),s?n:n[0]}const Ft={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Vt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Ut={location:0,threshold:.6,distance:100},Ht={useExtendedSearch:!1,getFn:Tt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...Vt,...Ft,...Ut,...Ht};const Kt=/[^ ]+/g;function Wt(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const r=i.match(Kt).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*e),a=parseFloat(Math.round(o*s)/s);return n.set(r,a),a},clear(){n.clear()}}}class we{constructor({getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){this.norm=Wt(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,V(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();V(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!R(t)||pe(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if(R(o)){if(K(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:u,value:l}=c.pop();if(R(l))if(V(l)&&!pe(l)){let p={v:l,i:u,n:this.norm.get(l)};a.push(p)}else K(l)&&l.forEach((p,d)=>{c.push({nestedArrIndex:d,value:p})})}s.$[r]=a}else if(V(o)&&!pe(o)){let a={v:o,n:this.norm.get(o)};s.$[r]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function De(e,t,{getFn:n=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){const i=new we({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(ze)),i.setSources(t),i.create(),i}function zt(e,{getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new we({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function ce(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=g.distance,ignoreLocation:r=g.ignoreLocation}={}){const o=t/e.length;if(r)return o;const a=Math.abs(s-n);return i?o+a/i:a?1:o}function Dt(e=[],t=g.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let a=e[r];a&&s===-1?s=r:!a&&s!==-1&&(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}const X=32;function Gt(e,t,n,{location:s=g.location,distance:i=g.distance,threshold:r=g.threshold,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,includeMatches:c=g.includeMatches,ignoreLocation:u=g.ignoreLocation}={}){if(t.length>X)throw new Error(Pt(X));const l=t.length,p=e.length,d=Math.max(0,Math.min(s,p));let y=r,v=d;const x=a>1||c,P=x?Array(p):[];let _;for(;(_=e.indexOf(t,v))>-1;){let m=ce(t,{currentLocation:_,expectedLocation:d,distance:i,ignoreLocation:u});if(y=Math.min(m,y),v=_+l,x){let S=0;for(;S<l;)P[_+S]=1,S+=1}}v=-1;let E=[],B=1,U=l+p;const se=1<<l-1;for(let m=0;m<l;m+=1){let S=0,A=U;for(;S<A;)ce(t,{errors:m,currentLocation:d+A,expectedLocation:d,distance:i,ignoreLocation:u})<=y?S=A:U=A,A=Math.floor((U-S)/2+S);U=A;let $=Math.max(1,d-A+1),L=o?p:Math.min(d+A,p)+l,C=Array(L+2);C[L+1]=(1<<m)-1;for(let h=L;h>=$;h-=1){let k=h-1,b=n[e.charAt(k)];if(x&&(P[k]=+!!b),C[h]=(C[h+1]<<1|1)&b,m&&(C[h]|=(E[h+1]|E[h])<<1|1|E[h+1]),C[h]&se&&(B=ce(t,{errors:m,currentLocation:k,expectedLocation:d,distance:i,ignoreLocation:u}),B<=y)){if(y=B,v=k,v<=d)break;$=Math.max(1,2*d-v)}}if(ce(t,{errors:m+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>y)break;E=C}const J={isMatch:v>=0,score:Math.max(.001,B)};if(x){const m=Dt(P,a);m.length?c&&(J.indices=m):J.isMatch=!1}return J}function qt(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class Ge{constructor(t,{location:n=g.location,threshold:s=g.threshold,distance:i=g.distance,includeMatches:r=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:c=g.isCaseSensitive,ignoreLocation:u=g.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:u},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(d,y)=>{this.chunks.push({pattern:d,alphabet:qt(d),startIndex:y})},p=this.pattern.length;if(p>X){let d=0;const y=p%X,v=p-y;for(;d<v;)l(this.pattern.substr(d,X),d),d+=X;if(y){const x=p-X;l(this.pattern.substr(x),x)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let v={isMatch:!0,score:0};return s&&(v.indices=[[0,t.length-1]]),v}const{location:i,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:c,ignoreLocation:u}=this.options;let l=[],p=0,d=!1;this.chunks.forEach(({pattern:v,alphabet:x,startIndex:P})=>{const{isMatch:_,score:E,indices:B}=Gt(t,v,x,{location:i+P,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:c,includeMatches:s,ignoreLocation:u});_&&(d=!0),p+=E,_&&B&&(l=[...l,...B])});let y={isMatch:d,score:d?p/this.chunks.length:1};return d&&s&&(y.indices=l),y}}class q{constructor(t){this.pattern=t}static isMultiMatch(t){return _e(t,this.multiRegex)}static isSingleMatch(t){return _e(t,this.singleRegex)}search(){}}function _e(e,t){const n=e.match(t);return n?n[1]:null}class Jt extends q{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Yt extends q{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Qt extends q{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Xt extends q{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Zt extends q{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class en extends q{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class qe extends q{constructor(t,{location:n=g.location,threshold:s=g.threshold,distance:i=g.distance,includeMatches:r=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:c=g.isCaseSensitive,ignoreLocation:u=g.ignoreLocation}={}){super(t),this._bitapSearch=new Ge(t,{location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Je extends q{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],r=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+r,i.push([s,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const ve=[Jt,Je,Qt,Xt,en,Zt,Yt,qe],Le=ve.length,tn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,nn="|";function sn(e,t={}){return e.split(nn).map(n=>{let s=n.trim().split(tn).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=s.length;r<o;r+=1){const a=s[r];let c=!1,u=-1;for(;!c&&++u<Le;){const l=ve[u];let p=l.isMultiMatch(a);p&&(i.push(new l(p,t)),c=!0)}if(!c)for(u=-1;++u<Le;){const l=ve[u];let p=l.isSingleMatch(a);if(p){i.push(new l(p,t));break}}}return i})}const rn=new Set([qe.type,Je.type]);class on{constructor(t,{isCaseSensitive:n=g.isCaseSensitive,includeMatches:s=g.includeMatches,minMatchCharLength:i=g.minMatchCharLength,ignoreLocation:r=g.ignoreLocation,findAllMatches:o=g.findAllMatches,location:a=g.location,threshold:c=g.threshold,distance:u=g.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:a,threshold:c,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=sn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let r=0,o=[],a=0;for(let c=0,u=n.length;c<u;c+=1){const l=n[c];o.length=0,r=0;for(let p=0,d=l.length;p<d;p+=1){const y=l[p],{isMatch:v,indices:x,score:P}=y.search(t);if(v){if(r+=1,a+=P,s){const _=y.constructor.type;rn.has(_)?o=[...o,...x]:o.push(x)}}else{a=0,r=0,o.length=0;break}}if(r){let p={isMatch:!0,score:a/r};return s&&(p.indices=o),p}}return{isMatch:!1,score:1}}}const ke=[];function an(...e){ke.push(...e)}function Se(e,t){for(let n=0,s=ke.length;n<s;n+=1){let i=ke[n];if(i.condition(e,t))return new i(e,t)}return new Ge(e,t)}const de={AND:"$and",OR:"$or"},xe={PATH:"$path",PATTERN:"$val"},Me=e=>!!(e[de.AND]||e[de.OR]),ln=e=>!!e[xe.PATH],cn=e=>!K(e)&&Ke(e)&&!Me(e),Oe=e=>({[de.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ye(e,t,{auto:n=!0}={}){const s=i=>{let r=Object.keys(i);const o=ln(i);if(!o&&r.length>1&&!Me(i))return s(Oe(i));if(cn(i)){const c=o?i[xe.PATH]:r[0],u=o?i[xe.PATTERN]:i[c];if(!V(u))throw new Error(Rt(c));const l={keyId:be(c),pattern:u};return n&&(l.searcher=Se(u,t)),l}let a={children:[],operator:r[0]};return r.forEach(c=>{const u=i[c];K(u)&&u.forEach(l=>{a.children.push(s(l))})}),a};return Me(e)||(e=Oe(e)),s(e)}function un(e,{ignoreFieldNorm:t=g.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:r,score:o})=>{const a=i?i.weight:null;s*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:r))}),n.score=s})}function hn(e,t){const n=e.matches;t.matches=[],R(n)&&n.forEach(s=>{if(!R(s.indices)||!s.indices.length)return;const{indices:i,value:r}=s;let o={indices:i,value:r};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function dn(e,t){t.score=e.score}function fn(e,t,{includeMatches:n=g.includeMatches,includeScore:s=g.includeScore}={}){const i=[];return n&&i.push(hn),s&&i.push(dn),e.map(r=>{const{idx:o}=r,a={item:t[o],refIndex:o};return i.length&&i.forEach(c=>{c(r,a)}),a})}class ne{constructor(t,n={},s){this.options={...g,...n},this.options.useExtendedSearch,this._keyStore=new jt(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof we))throw new Error(Ot);this._myIndex=n||De(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){R(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const r=this._docs[s];t(r,s)&&(this.removeAt(s),s-=1,i-=1,n.push(r))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let c=V(t)?V(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return un(c,{ignoreFieldNorm:a}),r&&c.sort(o),He(n)&&n>-1&&(c=c.slice(0,n)),fn(c,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=Se(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:o,n:a})=>{if(!R(r))return;const{isMatch:c,score:u,indices:l}=n.searchIn(r);c&&i.push({item:r,idx:o,matches:[{score:u,value:r,norm:a,indices:l}]})}),i}_searchLogical(t){const n=Ye(t,this.options),s=(a,c,u)=>{if(!a.children){const{keyId:p,searcher:d}=a,y=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:d});return y&&y.length?[{idx:u,item:c,matches:y}]:[]}const l=[];for(let p=0,d=a.children.length;p<d;p+=1){const y=a.children[p],v=s(y,c,u);if(v.length)l.push(...v);else if(a.operator===de.AND)return[]}return l},i=this._myIndex.records,r={},o=[];return i.forEach(({$:a,i:c})=>{if(R(a)){let u=s(n,a,c);u.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},o.push(r[c])),u.forEach(({matches:l})=>{r[c].matches.push(...l)}))}}),o}_searchObjectList(t){const n=Se(t,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:a})=>{if(!R(o))return;let c=[];s.forEach((u,l)=>{c.push(...this._findMatches({key:u,value:o[l],searcher:n}))}),c.length&&r.push({idx:a,item:o,matches:c})}),r}_findMatches({key:t,value:n,searcher:s}){if(!R(n))return[];let i=[];if(K(n))n.forEach(({v:r,i:o,n:a})=>{if(!R(r))return;const{isMatch:c,score:u,indices:l}=s.searchIn(r);c&&i.push({score:u,key:t,value:r,idx:o,norm:a,indices:l})});else{const{v:r,n:o}=n,{isMatch:a,score:c,indices:u}=s.searchIn(r);a&&i.push({score:c,key:t,value:r,norm:o,indices:u})}return i}}ne.version="6.6.2";ne.createIndex=De;ne.parseIndex=zt;ne.config=g;ne.parseQuery=Ye;an(on);function pn(e,t,n){const s=()=>{var o,a;return new ne((o=z(t))!=null?o:[],(a=z(n))==null?void 0:a.fuseOptions)},i=Q(s());ge(()=>{var o;return(o=z(n))==null?void 0:o.fuseOptions},()=>{i.value=s()},{deep:!0}),ge(()=>z(t),o=>{i.value.setCollection(o)},{deep:!0});const r=O(()=>{const o=z(n);if(o!=null&&o.matchAllWhenSearchEmpty&&!z(e))return z(t).map((c,u)=>({item:c,refIndex:u}));const a=o==null?void 0:o.resultLimit;return i.value.search(z(e),a?{limit:a}:void 0)});return{fuse:i,results:r}}const gn=Ie({components:{HComboboxOption:vt,UIcon:fe,UAvatar:Pe,UKbd:Ue},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=O(()=>{const s=e.group[e.groupAttribute];return typeof s=="function"?s(e.query):s});function n(s,{indices:i,value:r}){if(s===r)return"";let o="",a=0;i.forEach(u=>{const l=u[1]+1,p=l-u[0]>=e.query.length;o+=[r.substring(a,u[0]),p&&"<mark>",r.substring(u[0],l),p&&"</mark>"].filter(Boolean).join(""),a=l}),o+=r.substring(a);const c=o.indexOf("<mark>");return c>60&&(o=`...${o.substring(c-60)}`),o}return Be(()=>Ne("$kDJf3kGLSL")),{label:t,highlight:n}}}),mn=["aria-label"],yn=["innerHTML"];function bn(e,t,n,s,i,r){const o=fe,a=Pe,c=Ue,u=ae("HComboboxOption");return I(),N("div",{class:w(e.ui.group.wrapper)},[e.label?(I(),N("h2",{key:0,class:w(e.ui.group.label)},D(e.label),3)):F("",!0),G("div",{class:w(e.ui.group.container),"aria-label":e.group[e.groupAttribute]},[(I(!0),N(me,null,ue(e.group.commands,(l,p)=>(I(),j(u,{key:`${e.group.key}-${p}`,value:l,disabled:l.disabled,as:"template"},{default:te(({active:d,selected:y})=>[G("div",{class:w([e.ui.group.command.base,d?e.ui.group.command.active:e.ui.group.command.inactive,l.disabled?"cursor-not-allowed":"cursor-pointer"])},[G("div",{class:w(e.ui.group.command.container)},[ee(e.$slots,`${e.group.key}-icon`,{group:e.group,command:l,active:d,selected:y},()=>[l.icon?(I(),j(o,{key:0,name:l.icon,class:w([e.ui.group.command.icon.base,d?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,l.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):l.avatar?(I(),j(a,he({key:1},{size:e.ui.group.command.avatar.size,...l.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):l.chip?(I(),N("span",{key:2,class:w(e.ui.group.command.chip.base),style:tt({background:`#${l.chip}`})},null,6)):F("",!0)]),G("div",{class:w([e.ui.group.command.label,l.disabled&&e.ui.group.command.disabled])},[ee(e.$slots,`${e.group.key}-command`,{group:e.group,command:l,active:d,selected:y},()=>{var v,x;return[l.prefix?(I(),N("span",{key:0,class:w(["flex-shrink-0",l.prefixClass||e.ui.group.command.prefix])},D(l.prefix),3)):F("",!0),G("span",{class:w(["truncate",{"flex-none":l.suffix||((v=l.matches)==null?void 0:v.length)}])},D(l[e.commandAttribute]),3),(x=l.matches)!=null&&x.length?(I(),N("span",{key:1,class:w(["truncate",l.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(l[e.commandAttribute],l.matches[0])},null,10,yn)):l.suffix?(I(),N("span",{key:2,class:w(["truncate",l.suffixClass||e.ui.group.command.suffix])},D(l.suffix),3)):F("",!0)]})],2)],2),y?(I(),j(o,{key:0,name:e.selectedIcon,class:w(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):d&&(e.group.active||e.$slots[`${e.group.key}-active`])?ee(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:l,active:d,selected:y},()=>[e.group.active?(I(),N("span",{key:0,class:w(e.ui.group.active)},D(e.group.active),3)):F("",!0)]):ee(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:l,active:d,selected:y},()=>{var v;return[(v=l.shortcuts)!=null&&v.length?(I(),N("span",{key:0,class:w(e.ui.group.command.shortcuts)},[(I(!0),N(me,null,ue(l.shortcuts,x=>(I(),j(c,{key:x},{default:te(()=>[nt(D(x),1)]),_:2},1024))),128))],2)):!l.disabled&&e.group.inactive?(I(),N("span",{key:1,class:w(e.ui.group.inactive)},D(e.group.inactive),3)):F("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,mn)],2)}const vn=Re(gn,[["render",bn]]),Z=st(Ae.ui.strategy,Ae.ui.commandPalette,At),kn=Ie({components:{HCombobox:kt,HComboboxInput:St,HComboboxOptions:xt,UIcon:fe,UButton:je,CommandPaletteGroup:vn},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>Z.default.icon},loadingIcon:{type:String,default:()=>Z.default.loadingIcon},selectedIcon:{type:String,default:()=>Z.default.selectedIcon},closeButton:{type:Object,default:()=>Z.default.closeButton},emptyState:{type:Object,default:()=>Z.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:s,attrs:i}=Te("commandPalette",ye(e,"ui"),Z,ye(e,"class")),r=Q(""),o=Q(),a=Q(null),c=Q(!1);$e(()=>{e.autoselect&&U()}),$e(()=>{setTimeout(()=>{var A;const m=(A=o.value)==null?void 0:A.$.provides;if(!m)return;const S=Object.getOwnPropertySymbols(m);a.value=S.length&&m[S[0]]},200)});const u=O(()=>Fe({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),l=O(()=>{var S;const m=[];for(const A of e.groups)A.search||m.push(...((S=A.commands)==null?void 0:S.map($=>({...$,group:A.key})))||[]);return m}),p=Q({}),{results:d}=pn(r,l,u);function y(m,S){if(m)return m.filter&&typeof m.filter=="function"&&(S=m.filter(r.value,S)),{...m,commands:S.slice(0,u.value.resultLimit)}}const v=O(()=>{if(!d.value)return[];const m=d.value.reduce(($,L)=>{var h;const{item:C,...f}=L;return C.group&&($[h=C.group]||($[h]=[]),$[C.group].push({...C,...f})),$},{}),S=Object.entries(m).map(([$,L])=>{const C=e.groups.find(f=>f.key===$);return C?y(C,L):null}).filter(Boolean),A=e.groups.filter($=>{var L;return!!$.search&&((L=p.value[$.key])==null?void 0:L.length)}).map($=>{const L=p.value[$.key]||[];return y($,[...L])});return[...S,...A]}),x=rt(async()=>{const m=e.groups.filter(S=>!!S.search);m.length&&(c.value=!0,await Promise.all(m.map(async S=>{p.value[S.key]=await S.search(r.value)})),c.value=!1,B())},e.debounce);ge(r,()=>{x(),B()});const P=O(()=>(e.loading||c.value)&&e.loadingIcon?e.loadingIcon:e.icon),_=O(()=>it(s.value.input.icon.base,s.value.input.icon.size,(e.loading||c.value)&&e.loadingIcon&&s.value.input.icon.loading)),E=O(()=>({...s.value.default.emptyState,...e.emptyState}));function B(){setTimeout(()=>{var m;(m=o.value)==null||m.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function U(){setTimeout(()=>{var m;(m=o.value)==null||m.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function se(m){t("update:modelValue",m,{query:r.value}),e.autoclear&&setTimeout(()=>{r.value=""},0)}function J(){r.value?r.value="":t("close")}return n({query:r,updateQuery:m=>{r.value=m},comboboxApi:a,results:d}),Be(()=>Ne("$JIJcKiWxm8")),{ui:s,attrs:i,groups:v,comboboxInput:o,query:r,iconName:P,iconClass:_,emptyState:E,onSelect:se,onClear:J}}});function Sn(e,t,n,s,i,r){const o=fe,a=ae("HComboboxInput"),c=je,u=ae("CommandPaletteGroup"),l=ae("HComboboxOptions"),p=ae("HCombobox");return I(),j(p,he({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:te(()=>[ot(G("div",{class:w(e.ui.input.wrapper)},[e.iconName?(I(),j(o,{key:0,name:e.iconName,class:w(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):F("",!0),Ve(a,{ref:"comboboxInput",value:e.query,class:w([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=d=>e.query=d.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(I(),j(c,he({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):F("",!0)],2),[[at,e.searchable]]),e.groups.length?(I(),j(l,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:w(e.ui.container)},{default:te(()=>[(I(!0),N(me,null,ue(e.groups,d=>(I(),j(u,{key:d.key,query:e.query,group:d,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},lt({_:2},[ue(e.$slots,(y,v)=>({name:v,fn:te(x=>[ee(e.$slots,v,ct(ut(x)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?ee(e.$slots,"empty-state",{key:1},()=>[G("div",{class:w(e.ui.emptyState.wrapper)},[e.emptyState.icon?(I(),j(o,{key:0,name:e.emptyState.icon,class:w(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):F("",!0),G("p",{class:w(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},D(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):F("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const xn=Re(kn,[["render",Sn]]),Qe=e=>{if(!e.children)return e._path;for(const t of(e==null?void 0:e.children)||[]){const n=Qe(t);if(n)return n}},Xe=(e,t)=>{for(const n of t){if(n._path===e&&!n._id)return n.children;if(n.children){const s=Xe(e,n.children);if(s)return s}}},Ze=(e,t)=>{for(const n of t){if(n._path===e)return n;if(n.children){const s=Ze(e,n.children);if(s)return s}}},Mn=(e,t,n)=>{let s;const i=(r,o)=>{for(const a of o)if(!(r!=="/"&&a._path==="/")){if(r!=null&&r.startsWith(a._path)&&a[t]&&(s=a[t]),a._path===r)return;a.children&&i(r,a.children)}};return i(e,n),s},In=()=>({navBottomLink:Qe,navDirFromPath:Xe,navPageFromPath:Ze,navKeyFromPath:Mn}),Rn=Ie({inheritAttrs:!1,__name:"ContentSearch",props:{modelValue:{type:Boolean,default:void 0},files:{type:Array,default:()=>[]},navigation:{type:Array,default:()=>[]},links:{type:Array,default:()=>[]},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const s=ht(),i=O(()=>({padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-dvh sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10"},fileIcon:{name:"i-heroicons-document-text"},default:{closeButton:{icon:s.ui.icons.close,color:"gray",variant:"ghost",size:"sm"}}})),r=e,o=n,a=dt(),{navKeyFromPath:c}=In(),{usingInput:u}=It(),{isContentSearchModalOpen:l}=ft(),p=pt(bt),d=gt(),{ui:y,attrs:v}=Te("content.search",ye(r,"ui"),i,void 0,!0),x=p.smaller("sm"),P=Q();function _(f){var h;return f.icon?f.icon:(h=f.navigation)!=null&&h.icon?f.navigation.icon:(r.navigation&&(f.icon=c(f._path,"icon",r.navigation)),f.icon||y.value.fileIcon.name)}const E=O({get(){return r.modelValue!==void 0?r.modelValue:l.value},set(f){r.modelValue!==void 0?o("update:modelValue",f):l.value=f}}),B=O(()=>Fe({},r.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function U(f,h){return f?h:h==null?void 0:h.filter(k=>!k.child)}const se=O(()=>{var h,k;let f=[];return(h=r.navigation)!=null&&h.length&&(r.navigation.some(b=>{var M;return!!((M=b.children)!=null&&M.length)})?f=(r.navigation||[]).map(b=>({key:b._path,label:b.title,commands:(r.files||[]).filter(M=>{var W;return(W=M._path)==null?void 0:W.startsWith(b._path)}).flatMap(M=>m(M,b)),filter:U})):f=[{key:"docs",commands:(r.files||[]).flatMap(b=>m(b)),filter:U}]),[((k=r.links)==null?void 0:k.length)&&{key:"links",label:"Links",commands:r.links.flatMap(b=>[b.to&&{id:a.resolve(b.to).fullPath,...b,icon:b.icon||y.value.fileIcon.name},...(b.children||[]).map(M=>({id:a.resolve(M.to).fullPath,prefix:b.label,suffix:M.description,...M,icon:M.icon||b.icon||y.value.fileIcon.name}))]).filter(Boolean)},...f,...r.groups||[],!(d!=null&&d.forced)&&!r.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:s.ui.icons.light,disabled:d.preference==="light",click:()=>{d.preference="light"}},{id:"theme-dark",label:"Dark",icon:s.ui.icons.dark,disabled:d.preference==="dark",click:()=>{d.preference="dark"}}]}].filter(Boolean)}),J=O(()=>E.value||!u.value);function m(f,h){var b,M,W,re,ie;const k=(b=mt((h==null?void 0:h.children)||[],f))==null?void 0:b.map(({title:T})=>T).join(" > ");return[{id:f._id,label:((M=f.navigation)==null?void 0:M.title)||f.title,title:((W=f.navigation)==null?void 0:W.title)||f.title,prefix:k,to:f._path,suffix:f.description,children:A($(((re=f==null?void 0:f.body)==null?void 0:re.children)||[])),icon:_(f)},...Object.entries(L(((ie=f==null?void 0:f.body)==null?void 0:ie.children)||[])).map(([T,{title:Y,children:le}])=>{var oe;if(Y)return{id:`${f._path}${T}`,label:Y,prefix:(k?`${k} > `:"")+`${((oe=f.navigation)==null?void 0:oe.title)||f.title}`,to:`${f._path}${T}`,children:A(le),icon:_(f),child:!0}})].filter(Boolean)}function S(f){return(f==null?void 0:f.map(h=>{var k,b;if(["code","code-inline","em","a","strong"].includes(h.tag))return{type:"text",value:((b=(k=h.children)==null?void 0:k.find(M=>M.type==="text"))==null?void 0:b.value)||""};if(h.type==="text")return h}).filter(Boolean))||[]}function A(f){return f.map(h=>{if(["pre","style","video"].includes(h.tag))return;let k=[...h.children||[]];return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(h.tag)&&k.length?(k=S(k).reduce((b,M)=>(b.length&&b[b.length-1].type==="text"?b[b.length-1].value+=M.value||"":b.push({...M}),b),[]),{...h,children:k}):{...h,children:A(k)}}).filter(Boolean)}function $(f){const h=[];for(const k of f){if(["h1","h2","h3"].includes(k.tag))break;h.push(k)}return h}function L(f){var M,W,re,ie;const h={};let k="",b="";for(const T of f)["h1","h2","h3"].includes(T.tag)&&(b=((re=(W=(M=T.children)==null?void 0:M.map(Y=>{var le,oe;if(Y.type==="text")return Y.value;if(["code","code-inline","em","a","strong"].includes(Y.tag))return(oe=(le=Y.children)==null?void 0:le.find(et=>et.type==="text"))==null?void 0:oe.value}))==null?void 0:W.filter(Boolean))==null?void 0:re.join(" "))||"",b&&((ie=T.props)!=null&&ie.id)&&(k=`#${encodeURIComponent(T.props.id)}`)),h[k]?h[k].children.push(T):h[k]={children:[T],title:b};return h}function C(f){E.value=!1;const h=f[0];h&&(h.click?h.click():h.to?h.target==="_blank"||h.to.startsWith("http")?window.open(h.to,h.target||"_blank"):a.push(h.to):h.href&&window.open(h.href,"_blank"))}return wt({meta_k:{usingInput:!0,whenever:[J],handler:()=>{E.value=!E.value}},escape:{usingInput:!0,whenever:[E],handler:()=>{E.value=!1}}}),t({commandPaletteRef:P}),(f,h)=>{const k=xn,b=Mt;return I(),j(b,{modelValue:H(E),"onUpdate:modelValue":h[1]||(h[1]=M=>yt(E)?E.value=M:null),overlay:!H(x),transition:!H(x),ui:H(y)},{default:te(()=>[Ve(k,he({ref_key:"commandPaletteRef",ref:P,"model-value":[],groups:H(se),ui:H(y).commandPalette,"close-button":H(y).default.closeButton,fuse:H(B),multiple:""},H(v),{"onUpdate:modelValue":C,onClose:h[0]||(h[0]=M=>E.value=!1)}),null,16,["groups","ui","close-button","fuse"])]),_:1},8,["modelValue","overlay","transition","ui"])}}});export{Rn as default};

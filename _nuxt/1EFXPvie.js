import{_ as de,a as ue}from"./El2hxzSy.js";import{b9 as G,ba as ge,b4 as D,bb as fe,X as te,bc as me,bd as H,m as he,k as ie,G as h,d as W,r as V,be as ve,o as pe,ar as E,R as ae,bf as ye,S as C,V as R,W as A,bg as be,ag as we,Z as q,aZ as xe,I as re,bh as Se,bi as _e,bj as F,bk as ze,b as f,c as w,n as _,a8 as u,O as z,g as B,P as $,f as b,e as L,N as j,w as I,j as T,t as U,F as ne,M as se,bl as $e,ad as ke,b2 as J,b3 as je,ab as Ie,b5 as Z,b6 as Oe,s as Q}from"./DgP3qxNX.js";const Ae={wrapper:"inline-flex flex-row-reverse justify-end",ring:"ring-2 ring-white dark:ring-gray-900",margin:"-me-1.5 first:me-0"};async function Pe(e,t){return await Me(t).catch(i=>(console.error("Failed to get image meta for "+t,i+""),{width:0,height:0,ratio:0}))}async function Me(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const i=new Image;i.onload=()=>{const r={width:i.width,height:i.height,ratio:i.width/i.height};t(r)},i.onerror=r=>a(r),i.src=e})}function X(e){return t=>t?e[t]||t:e.missingValue}function We({formatter:e,keyMap:t,joinWith:a="/",valueMap:i}={}){e||(e=(n,o)=>`${n}=${o}`),t&&typeof t!="function"&&(t=X(t));const r=i||{};return Object.keys(r).forEach(n=>{typeof r[n]!="function"&&(r[n]=X(r[n]))}),(n={})=>Object.entries(n).filter(([c,s])=>typeof s<"u").map(([c,s])=>{const d=r[c];return typeof d=="function"&&(s=d(n[c])),c=typeof t=="function"?t(c):c,e(c,s)}).join(a)}function x(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return parseInt(e,10)}function Ne(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const i=parseInt(a.replace("x",""));i&&t.add(i)}return Array.from(t)}function Be(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Ce(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(i=>i)){const i=a.split(":");i.length!==2?t["1px"]=i[0].trim():t[i[0].trim()]=i[1].trim()}else Object.assign(t,e);return t}function Le(e){const t={options:e},a=(r,n={})=>oe(t,r,n),i=(r,n={},o={})=>a(r,{...o,modifiers:te(n,o.modifiers||{})}).url;for(const r in e.presets)i[r]=(n,o,c)=>i(n,o,{...e.presets[r],...c});return i.options=e,i.getImage=a,i.getMeta=(r,n)=>Ue(t,r,n),i.getSizes=(r,n)=>qe(t,r,n),t.$img=i,i}async function Ue(e,t,a){const i=oe(e,t,{...a});return typeof i.getMeta=="function"?await i.getMeta():await Pe(e,i.url)}function oe(e,t,a){var d,g;if(typeof t!="string"||t==="")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(t.startsWith("data:"))return{url:t};const{provider:i,defaults:r}=De(e,a.provider||e.options.provider),n=Ee(e,a.preset);if(t=G(t)?t:ge(t),!i.supportsAlias)for(const v in e.options.alias)t.startsWith(v)&&(t=D(e.options.alias[v],t.substr(v.length)));if(i.validateDomains&&G(t)){const v=fe(t).host;if(!e.options.domains.find(m=>m===v))return{url:t}}const o=te(a,n,r);o.modifiers={...o.modifiers};const c=o.modifiers.format;(d=o.modifiers)!=null&&d.width&&(o.modifiers.width=x(o.modifiers.width)),(g=o.modifiers)!=null&&g.height&&(o.modifiers.height=x(o.modifiers.height));const s=i.getImage(t,o,e);return s.format=s.format||c||"",s}function De(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function Ee(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function qe(e,t,a){var p,P,M,k,N;const i=x((p=a.modifiers)==null?void 0:p.width),r=x((P=a.modifiers)==null?void 0:P.height),n=Ce(a.sizes),o=(M=a.densities)!=null&&M.trim()?Ne(a.densities.trim()):e.options.densities;Be(o);const c=i&&r?r/i:0,s=[],d=[];if(Object.keys(n).length>=1){for(const y in n){const S=Y(y,String(n[y]),r,c,e);if(S!==void 0){s.push({size:S.size,screenMaxWidth:S.screenMaxWidth,media:`(max-width: ${S.screenMaxWidth}px)`});for(const O of o)d.push({width:S._cWidth*O,src:K(e,t,a,S,O)})}}Re(s)}else for(const y of o){const S=Object.keys(n)[0];let O=Y(S,String(n[S]),r,c,e);O===void 0&&(O={size:"",screenMaxWidth:0,_cWidth:(k=a.modifiers)==null?void 0:k.width,_cHeight:(N=a.modifiers)==null?void 0:N.height}),d.push({width:y,src:K(e,t,a,O,y)})}Ge(d);const g=d[d.length-1],v=s.length?s.map(y=>`${y.media?y.media+" ":""}${y.size}`).join(", "):void 0,m=v?"w":"x",l=d.map(y=>`${y.src} ${y.width}${m}`).join(", ");return{sizes:v,srcset:l,src:g==null?void 0:g.src}}function Y(e,t,a,i,r){const n=r.options.screens&&r.options.screens[e]||parseInt(e),o=t.endsWith("vw");if(!o&&/^\d+$/.test(t)&&(t=t+"px"),!o&&!t.endsWith("px"))return;let c=parseInt(t);if(!n||!c)return;o&&(c=Math.round(c/100*n));const s=i?Math.round(c*i):a;return{size:t,screenMaxWidth:n,_cWidth:c,_cHeight:s}}function K(e,t,a,i,r){return e.$img(t,{...a.modifiers,width:i._cWidth?i._cWidth*r:void 0,height:i._cHeight?i._cHeight*r:void 0},a)}function Re(e){var a;e.sort((i,r)=>i.screenMaxWidth-r.screenMaxWidth);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.media===t&&e.splice(i,1),t=r.media}for(let i=0;i<e.length;i++)e[i].media=((a=e[i+1])==null?void 0:a.media)||""}function Ge(e){e.sort((a,i)=>a.width-i.width);let t=null;for(let a=e.length-1;a>=0;a--){const i=e[a];i.width===t&&e.splice(a,1),t=i.width}}const He=We({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>H(e)+"_"+H(t)}),Ve=(e,{modifiers:t={},baseURL:a}={},i)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const r=He(t)||"_";return a||(a=D(i.options.nuxt.baseURL,"/_ipx")),{url:D(a,r,me(e))}},Fe=!0,Te=!0,Je=Object.freeze(Object.defineProperty({__proto__:null,getImage:Ve,supportsAlias:Te,validateDomains:Fe},Symbol.toStringTag,{value:"Module"})),le={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};le.providers={ipxStatic:{provider:Je,defaults:{}}};const ce=()=>{const e=he(),t=ie();return t.$img||t._img||(t._img=Le({...le,nuxt:{baseURL:e.app.baseURL}}))};function Ze(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Qe={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Xe=e=>{const t=h(()=>({provider:e.provider,preset:e.preset})),a=h(()=>({width:x(e.width),height:x(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),i=ce(),r=h(()=>({...e.modifiers,width:x(e.width),height:x(e.height),format:e.format,quality:e.quality||i.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:r}},Ye={...Qe,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},Ke=W({name:"NuxtImg",props:Ye,emits:["load","error"],setup:(e,t)=>{const a=ce(),i=Xe(e),r=V(!1),n=h(()=>a.getSizes(e.src,{...i.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...i.modifiers.value,width:x(e.width),height:x(e.height)}})),o=h(()=>{const l={...i.attrs.value,"data-nuxt-img":""};return(!e.placeholder||r.value)&&(l.sizes=n.value.sizes,l.srcset=n.value.srcset),l}),c=h(()=>{let l=e.placeholder;if(l===""&&(l=!0),!l||r.value)return!1;if(typeof l=="string")return l;const p=Array.isArray(l)?l:typeof l=="number"?[l,l]:[10,10];return a(e.src,{...i.modifiers.value,width:p[0],height:p[1],quality:p[2]||50,blur:p[3]||3},i.options.value)}),s=h(()=>e.sizes?n.value.src:a(e.src,i.modifiers.value,i.options.value)),d=h(()=>c.value?c.value:s.value);if(e.preload){const l=Object.values(n.value).every(p=>p);ve({link:[{rel:"preload",as:"image",nonce:e.nonce,...l?{href:n.value.src,imagesizes:n.value.sizes,imagesrcset:n.value.srcset}:{href:d.value}}]})}const g=V(),m=ie().isHydrating;return pe(()=>{if(c.value){const l=new Image;l.src=s.value,e.sizes&&(l.sizes=n.value.sizes||"",l.srcset=n.value.srcset),l.onload=p=>{r.value=!0,t.emit("load",p)},Ze("nuxt-image");return}g.value&&(g.value.complete&&m&&(g.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),g.value.onload=l=>{t.emit("load",l)},g.value.onerror=l=>{t.emit("error",l)})}),()=>E("img",{ref:g,src:d.value,...o.value,...t.attrs})}}),ee=ae(C.ui.strategy,C.ui.avatar,ye),et=ae(C.ui.strategy,C.ui.avatarGroup,Ae),tt=W({inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},max:{type:Number,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:t}){const{ui:a,attrs:i}=R("avatarGroup",A(e,"ui"),et,A(e,"class")),r=h(()=>be(t)),n=h(()=>typeof e.max=="string"?parseInt(e.max,10):e.max),o=h(()=>r.value.map((c,s)=>{const d={};return!e.max||n.value&&s<n.value?(e.size&&(d.size=e.size),d.class=c.props.class||"",d.class=we(q(d.class,a.value.ring,a.value.margin),d.class),xe(c,d)):n.value!==void 0&&s===n.value?E(re,{size:e.size||ee.default.size,text:`+${r.value.length-n.value}`,class:q(a.value.ring,a.value.margin)}):null}).filter(Boolean).reverse());return()=>E("div",{class:a.value.wrapper,...i.value},o.value)}}),it=L("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),at=L("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),rt=["datetime"],nt=W({inheritAttrs:!1,__name:"BlogPost",props:{...Se,title:{type:String,default:void 0},description:{type:String,default:void 0},date:{type:[String,Date],default:void 0},image:{type:[String,Object],default:void 0},badge:{type:Object,default:void 0},authors:{type:Array,default:void 0},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=_e(),a=e,i=h(()=>({wrapper:q("relative group flex flex-col w-full gap-y-6",a.orientation==="horizontal"&&(a.image||t.image)?"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-center":void 0),image:{wrapper:"ring-1 ring-gray-200 dark:ring-gray-800 relative overflow-hidden aspect-[16/9] w-full rounded-lg pointer-events-none",base:"object-cover object-top w-full h-full transform transition-transform duration-200 group-hover:scale-105"},container:"flex flex-col justify-between flex-1",inner:"flex-1",badge:{wrapper:"mb-3",base:""},title:"text-gray-900 dark:text-white text-xl font-semibold truncate group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200",description:"text-base text-gray-500 dark:text-gray-400 mt-1",date:"text-sm text-gray-500 dark:text-gray-400 font-medium pointer-events-none",authors:{wrapper:"relative flex items-center gap-x-3 mt-4",avatar:{base:"relative ring-1 lg:hover:scale-105 lg:hover:ring-primary-500 dark:lg:hover:ring-primary-400 transition-transform",size:"xs"}}})),{ui:r,attrs:n}=R("blog.post",A(a,"ui"),i,A(a,"class"),!0),o=h(()=>F(a)),c=h(()=>(a.title||t.title&&ze(t.title())||"Post link").trim());return(s,d)=>{var P;const g=Ke,v=$e,m=ke,l=re,p=tt;return f(),w("article",$({class:u(r).wrapper},u(n)),[e.image||s.$slots.image?(f(),w("div",{key:0,class:_(u(r).image.wrapper)},[z(s.$slots,"image",{},()=>[B(g,$(typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:u(r).image.base}),null,16,["class"])])],2)):b("",!0),L("div",{class:_(u(r).container)},[L("div",{class:_(u(r).inner)},[s.to?(f(),j(v,$({key:0,"aria-label":u(c)},u(o),{class:"focus:outline-none",tabindex:"-1"}),{default:I(()=>[it]),_:1},16,["aria-label"])):b("",!0),e.badge||s.$slots.badge?(f(),w("div",{key:1,class:_(u(r).badge.wrapper)},[z(s.$slots,"badge",{},()=>[e.badge?(f(),j(m,$({key:0},{variant:"subtle",...e.badge},{class:u(r).badge.base}),null,16,["class"])):b("",!0)])],2)):b("",!0),e.title||s.$slots.title?(f(),w("h2",{key:2,class:_(u(r).title)},[z(s.$slots,"title",{},()=>[T(U(e.title),1)])],2)):b("",!0),e.description||s.$slots.description?(f(),w("p",{key:3,class:_(u(r).description)},[z(s.$slots,"description",{},()=>[T(U(e.description),1)])],2)):b("",!0),z(s.$slots,"default")],2),(P=e.authors)!=null&&P.length||e.date?(f(),w("div",{key:0,class:_(u(r).authors.wrapper)},[z(s.$slots,"authors",{},()=>{var M;return[(M=e.authors)!=null&&M.length?(f(),j(p,{key:0},{default:I(()=>[(f(!0),w(ne,null,se(e.authors,(k,N)=>(f(),j(l,$({key:N,alt:k.name,class:u(r).authors.avatar.base},{size:u(r).authors.avatar.size,...k.avatar}),{default:I(()=>[k.to?(f(),j(v,$({key:0},{target:"_blank",...u(F)(k)},{class:"focus:outline-none",tabindex:"-1"}),{default:I(()=>[at]),_:2},1040)):b("",!0)]),_:2},1040,["alt","class"]))),128))]),_:1})):b("",!0)]}),z(s.$slots,"date",{},()=>[e.date?(f(),w("time",{key:0,datetime:new Date(e.date).toISOString(),class:_(u(r).date)},U(e.date),11,rt)):b("",!0)])],2)):b("",!0)],2)],16)}}}),st=W({inheritAttrs:!1,__name:"BlogList",props:{orientation:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=e,a=h(()=>({wrapper:{horizontal:"flex flex-col lg:grid lg:grid-cols-3 gap-x-8 gap-y-16",vertical:"flex flex-col gap-y-16 w-full"}[t.orientation]})),{ui:i,attrs:r}=R("blog.list",A(t,"ui"),a,A(t,"class"),!0);return(n,o)=>(f(),w("div",$({class:u(i).wrapper},u(r)),[z(n.$slots,"default")],16))}}),ct=W({__name:"index",async setup(e){let t,a;const{data:i}=([t,a]=J(()=>Z("blog",()=>Q("/blog").findOne())),t=await t,a(),t);if(!i.value)throw je({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:r}=([t,a]=J(()=>Z("posts",()=>Q("/blog").where({_extension:"md"}).sort({date:-1}).find())),t=await t,a(),t);return Ie({title:i.value.title,ogTitle:i.value.title,description:i.value.description,ogDescription:i.value.description}),(n,o)=>{const c=de,s=nt,d=st,g=ue,v=Oe;return f(),j(v,null,{default:I(()=>[B(c,$(u(i),{class:"py-[50px]"}),null,16),B(g,null,{default:I(()=>[B(d,null,{default:I(()=>[(f(!0),w(ne,null,se(u(r),(m,l)=>(f(),j(s,{key:l,to:m._path,title:m.title,description:m.description,image:m.image,date:new Date(m.date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"}),authors:m.authors,badge:m.badge,orientation:l===0?"horizontal":"vertical",class:_([l===0&&"col-span-full"]),ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge","orientation","class"]))),128))]),_:1})]),_:1})]),_:1})}}});export{ct as default};
